<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Henderson Housing Assistance ROI Calculator | RECN</title>
  <meta name="description" content="Interactive ROI calculator for Henderson family-focused housing assistance programs. Estimate investment, savings, and ROI with healthcare-friendly assumptions." />
  <style>
    :root{
      --brand:#28a745; /* green */
      --brand2:#20c997; /* mint */
      --ink:#1b1f23;
      --muted:#6c757d;
      --bg:#f7f9fb;
      --card:#ffffff;
      --line:#e5e7eb;
      --ok:#28a745;
      --bad:#dc3545;
      --radius:14px;
      --shadow:0 4px 14px rgba(0,0,0,.08);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: ui-sans-serif, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Apple Color Emoji","Segoe UI Emoji";
      color:var(--ink);
      background:var(--bg);
      line-height:1.5;
    }
    a { color: var(--brand2); text-decoration: none; }
    .wrap{ max-width:1100px; margin:0 auto; padding: clamp(16px, 2vw, 28px); }
    header.hero{
      background: linear-gradient(135deg, var(--brand) 0%, var(--brand2) 100%);
      color:#fff; padding: clamp(22px, 3vw, 34px);
      border-radius: var(--radius); box-shadow: var(--shadow); margin: 18px 0 22px;
    }
    header.hero h1{ margin:0 0 6px; font-size: clamp(22px, 3.2vw, 34px); letter-spacing:.2px; }
    header.hero p{ margin:6px 0 0; opacity:.95 }
    .grid{ display:grid; grid-template-columns: 1.2fr .8fr; gap: clamp(14px, 2.4vw, 24px); }
    @media (max-width: 960px){ .grid{ grid-template-columns: 1fr; } }
    .card{ background:var(--card); border:1px solid var(--line); border-radius: var(--radius); box-shadow: var(--shadow); }
    .card .pad{ padding: clamp(16px, 2.4vw, 24px); }
    h2,h3{ margin-top:0; }
    fieldset{ border:none; padding:0; margin:0 0 14px; }
    legend{ font-weight:800; margin-bottom:10px; }
    .row{ display:grid; grid-template-columns: 1fr 180px; align-items:center; gap: 12px; margin: 10px 0; }
    @media (max-width: 720px){
      .row{ grid-template-columns: 1fr; }
      .row label{ margin-bottom: -4px; }
    }
    label{ font-weight:600; }
    .sublabel{ display:block; color:var(--muted); font-weight:500; font-size: 12px; }
    input[type=number]{ width:100%; padding:12px 12px; border:1px solid var(--line); border-radius:10px; background:#fff; font-size: 16px; }
    .hint{ color:var(--muted); font-size:12px; margin-top: -6px; }
    .actions{ display:flex; gap:10px; flex-wrap: wrap; margin-top: 8px; }
    .btn{ display:inline-flex; align-items:center; justify-content:center; gap:8px; border:1px solid transparent; background:var(--brand); color:#fff; font-weight:800; padding:12px 16px; border-radius:10px; cursor:pointer; }
    .btn.secondary{ background:#fff; color:var(--brand2); border-color: var(--brand2); }
    .btn.light{ background:#fff; color:var(--ink); border-color: var(--line); }
    .btn:active{ transform: translateY(1px); }
    .results{ display:grid; gap:12px; grid-template-columns: repeat(4, 1fr); }
    @media (max-width: 960px){ .results{ grid-template-columns: repeat(2, 1fr); } }
    @media (max-width: 520px){ .results{ grid-template-columns: 1fr; } }
    .stat{ border:1px solid var(--line); border-radius:12px; padding:14px; background: #fff; }
    .stat h4{ margin:0; font-size:12px; color:var(--muted); letter-spacing:.4px; text-transform: uppercase;}
    .stat .val{ font-size: clamp(20px, 2.5vw, 26px); margin-top: 4px; font-weight:900;}
    .stat.pos .val{ color: var(--ok); }
    .stat.neg .val{ color: var(--bad); }
    table{ width:100%; border-collapse: collapse; }
    th, td{ border-top:1px solid var(--line); padding:10px; text-align:left; }
    th{ background:#fafafa; font-size:13px; }
    tfoot td{ font-weight:800; border-top:2px solid var(--ink); }
    .muted{ color: var(--muted); }
    details{ border:1px solid var(--line); border-radius: 10px; padding: 10px 12px; background:#fff; }
    summary{ font-weight:800; cursor:pointer; }
    footer.note{ color:var(--muted); font-size:12px; margin: 14px 0 40px; text-align:center; }
    .anchor{ position:relative; inset-block-start:-80px; display:block; height:0; visibility:hidden; }
  </style>
</head>
<body>
  <!-- Support in-page anchors referenced by the blog -->
  <span id="henderson-calculator" class="anchor"></span>
  <span id="henderson-roi" class="anchor"></span>
  <span id="roi-calculator" class="anchor"></span>

  <div class="wrap">
    <header class="hero" role="banner">
      <h1>üè° Henderson Housing Assistance ROI Calculator</h1>
      <p>Estimate the annual <strong>investment, savings, and ROI</strong> for a <em>family-focused</em> housing assistance program in Henderson. Defaults match the blog‚Äôs healthcare example.</p>
    </header>

    <div class="grid" role="main">
      <section class="card" aria-labelledby="inputs-title">
        <div class="pad">
          <h2 id="inputs-title">Inputs</h2>

          <fieldset>
            <legend>Organization &amp; Usage</legend>
            <div class="row">
              <label for="employees">Organization size <span class="sublabel">(employees)</span></label>
              <input type="number" id="employees" min="1" step="1" value="450" />
            </div>
            <div class="row">
              <label for="annualUsers">Assisted families per year <span class="sublabel">(people)</span></label>
              <input type="number" id="annualUsers" min="1" step="1" value="35" />
            </div>
          </fieldset>

          <fieldset>
            <legend>Program Costs</legend>
            <div class="row">
              <label for="assistPerFamily">Housing assistance per family <span class="sublabel">($/family)</span></label>
              <input type="number" id="assistPerFamily" min="0" step="100" value="15000" />
            </div>
            <div class="row">
              <label for="familySupport">Family support services (admin) <span class="sublabel">($/year)</span></label>
              <input type="number" id="familySupport" min="0" step="500" value="25000" />
            </div>
          </fieldset>

          <fieldset>
            <legend>Benefits &amp; Assumptions</legend>
            <details open>
              <summary>Retention &amp; replacement (by role)</summary>
              <div class="row" style="margin-top:10px;">
                <label for="retainedPhys">Retained physicians <span class="sublabel">(count)</span></label>
                <input type="number" id="retainedPhys" min="0" step="1" value="5" />
              </div>
              <div class="row">
                <label for="replacePhys">Replacement cost per physician <span class="sublabel">($)</span></label>
                <input type="number" id="replacePhys" min="0" step="5000" value="175000" />
              </div>
              <div class="row">
                <label for="retainedNurse">Retained nurses <span class="sublabel">(count)</span></label>
                <input type="number" id="retainedNurse" min="0" step="1" value="14" />
              </div>
              <div class="row">
                <label for="replaceNurse">Replacement cost per nurse <span class="sublabel">($)</span></label>
                <input type="number" id="replaceNurse" min="0" step="500" value="30000" />
              </div>
              <div class="row">
                <label for="retainedOther">Retained other staff <span class="sublabel">(count)</span></label>
                <input type="number" id="retainedOther" min="0" step="1" value="0" />
              </div>
              <div class="row">
                <label for="replaceOther">Replacement cost per other staff <span class="sublabel">($)</span></label>
                <input type="number" id="replaceOther" min="0" step="100" value="10000" />
              </div>
            </details>

            <details>
              <summary>Recruiting acceleration</summary>
              <div class="row" style="margin-top:10px;">
                <label for="daysSaved">Days saved per hire <span class="sublabel">(avg)</span></label>
                <input type="number" id="daysSaved" min="0" step="1" value="14" />
              </div>
              <div class="row">
                <label for="vacancyCost">Cost of vacancy per day <span class="sublabel">($/role/day)</span></label>
                <input type="number" id="vacancyCost" min="0" step="25" value="575" />
              </div>
            </details>

            <details>
              <summary>Family satisfaction &amp; optional items</summary>
              <div class="row" style="margin-top:10px;">
                <label for="satisfactionPerFamily">Family satisfaction value <span class="sublabel">($/family/year)</span></label>
                <input type="number" id="satisfactionPerFamily" min="0" step="250" value="5000" />
              </div>
              <div class="row">
                <label for="arbitragePerFamily">Optional salary/cost arbitrage <span class="sublabel">($/family/year)</span></label>
                <input type="number" id="arbitragePerFamily" min="0" step="500" value="0" />
              </div>
            </details>
          </fieldset>

          <div class="actions">
            <button class="btn" id="calcBtn">üí∞ Calculate ROI</button>
            <button class="btn secondary" id="resetBtn" type="button">‚Ü∫ Reset to defaults</button>
            <button class="btn light" id="shareBtn" type="button" title="Copy a link with your current inputs">üîó Copy shareable link</button>
          </div>
          <p class="hint">Values update live as you type ‚Äî ‚ÄúCalculate ROI‚Äù jumps down to results.</p>
        </div>
      </section>

      <aside class="card" aria-labelledby="quickRef">
        <div class="pad">
          <h3 id="quickRef">Default scenario (from the blog‚Äôs healthcare example)</h3>
          <ul class="muted" style="margin-top:6px">
            <li>Org: 450 employees</li>
            <li>Assisted families: 35 / year</li>
            <li>Housing assistance: $15,000 per family</li>
            <li>Family support services: $25,000 / year</li>
            <li>Retained: 5 physicians, 14 nurses</li>
          </ul>
          <hr style="border:none;border-top:1px solid var(--line); margin:14px 0;">
          <p class="muted" style="margin-top:0">
            Recruiting saves ~14 days/hire at ~$575/day vacancy cost. Family satisfaction value is modeled at $5,000 per assisted family. Adjust as needed.
          </p>
          <div style="background:#fff; border:1px dashed var(--line); padding:10px; border-radius:10px">
            <small class="muted">RECN program fee modeled as <strong>$0</strong>; employers may fund assistance and family services.</small>
          </div>
        </div>
      </aside>
    </div>

    <section class="card" style="margin-top:18px" aria-labelledby="resultsTitle">
      <div class="pad">
        <h2 id="resultsTitle">Results</h2>

        <div class="results" id="statGrid" aria-live="polite">
          <div class="stat" id="invStat">
            <h4>Total Investment</h4>
            <div class="val" id="totalInvestment">$0</div>
            <div class="muted" id="invNote">Assistance + family support services</div>
          </div>
          <div class="stat" id="retStat">
            <h4>Total Returns</h4>
            <div class="val" id="totalReturns">$0</div>
            <div class="muted" id="retNote">Retention + recruiting + satisfaction + arbitrage</div>
          </div>
          <div class="stat" id="gainStat">
            <h4>Net Gain</h4>
            <div class="val" id="netGain">$0</div>
            <div class="muted">Returns ‚àí Investment</div>
          </div>
          <div class="stat" id="roiStat">
            <h4>ROI</h4>
            <div class="val" id="roiPct">0%</div>
            <div class="muted">Net Gain √∑ Investment</div>
          </div>
        </div>

        <h3 style="margin-top:18px">Breakdown</h3>
        <div class="tableWrap" style="overflow:auto">
          <table aria-describedby="resultsTitle">
            <thead>
              <tr>
                <th>Category</th>
                <th>Formula</th>
                <th>Amount</th>
              </tr>
            </thead>
            <tbody id="breakdownBody">
              <!-- populated by JS -->
            </tbody>
            <tfoot>
              <tr>
                <td>Total Investment</td>
                <td class="muted">Family support + Assistance √ó Families</td>
                <td id="tfootInv">$0</td>
              </tr>
              <tr>
                <td>Total Returns</td>
                <td class="muted">Retention + Recruiting + Satisfaction + Arbitrage</td>
                <td id="tfootRet">$0</td>
              </tr>
            </tfoot>
          </table>
        </div>

        <footer class="note">
          This tool provides directional estimates for planning. It is not tax, legal, or financial advice.
        </footer>
      </div>
    </section>
  </div>

  <script>
    // Utilities
    const $ = (id) => document.getElementById(id);
    const fmt = (n) => n.toLocaleString(undefined, {style:'currency', currency:'USD', maximumFractionDigits:0});

    const inputs = [
      'employees','annualUsers',
      'assistPerFamily','familySupport',
      'retainedPhys','replacePhys',
      'retainedNurse','replaceNurse',
      'retainedOther','replaceOther',
      'daysSaved','vacancyCost',
      'satisfactionPerFamily','arbitragePerFamily'
    ];

    const read = id => {
      const el = $(id);
      const v = parseFloat(String(el.value).replace(/,/g,''));
      return isFinite(v) ? v : 0;
    };

    function shareLink(){
      const params = new URLSearchParams();
      inputs.forEach(id => params.set(id, read(id)));
      const url = location.origin + location.pathname + '?' + params.toString();
      navigator.clipboard.writeText(url).then(() => alert('Sharable link copied to clipboard.')).catch(()=>{
        prompt('Copy this link:', url);
      });
    }

    function loadFromQuery(){
      const q = new URLSearchParams(location.search);
      let found = false;
      inputs.forEach(id => {
        if(q.has(id)){ $(id).value = q.get(id); found = true; }
      });
      return found;
    }

    function calc(){
      const employees = read('employees');
      const families = Math.min(read('annualUsers'), employees);

      // Costs
      const assistPerFamily = read('assistPerFamily');
      const familySupport = read('familySupport');
      const investment = familySupport + (assistPerFamily * families);

      // Retention values
      const retainedPhys = read('retainedPhys');
      const replacePhys = read('replacePhys');
      const retainedNurse = read('retainedNurse');
      const replaceNurse = read('replaceNurse');
      const retainedOther = read('retainedOther');
      const replaceOther = read('replaceOther');

      const retentionValue =
        (retainedPhys * replacePhys) +
        (retainedNurse * replaceNurse) +
        (retainedOther * replaceOther);

      // Recruiting
      const daysSaved = read('daysSaved');
      const vacancyCost = read('vacancyCost');
      const recruitingValue = families * daysSaved * vacancyCost;

      // Family satisfaction & optional arbitrage
      const satisfactionPerFamily = read('satisfactionPerFamily');
      const arbitragePerFamily = read('arbitragePerFamily');
      const satisfactionValue = families * satisfactionPerFamily;
      const arbitrageValue = families * arbitragePerFamily;

      const returns = retentionValue + recruitingValue + satisfactionValue + arbitrageValue;
      const netGain = returns - investment;
      const roi = investment > 0 ? (netGain / investment) : 0;

      // Update stat cards
      $('totalInvestment').textContent = fmt(investment);
      $('totalReturns').textContent = fmt(returns);
      $('netGain').textContent = fmt(netGain);
      $('roiPct').textContent = (roi*100).toFixed(0) + '%';
      $('gainStat').classList.toggle('neg', netGain < 0);
      $('gainStat').classList.toggle('pos', netGain >= 0);

      // Breakdown
      const rows = [
        ['Family support services (admin)', 'Admin', fmt(familySupport)],
        ['Housing assistance', 'Assistance √ó Families', fmt(assistPerFamily * families)],
        ['Physician retention', 'Retained MDs √ó Replace $/MD', fmt(retainedPhys * replacePhys)],
        ['Nursing retention', 'Retained RNs √ó Replace $/RN', fmt(retainedNurse * replaceNurse)],
        ['Other staff retention', 'Retained √ó Replace $/head', fmt(retainedOther * replaceOther)],
        ['Recruiting acceleration', 'Families √ó Days Saved √ó Vacancy $/day', fmt(recruitingValue)],
        ['Family satisfaction', 'Families √ó $/family/year', fmt(satisfactionValue)],
        ['Salary/cost arbitrage (optional)', 'Families √ó $/family/year', fmt(arbitrageValue)],
      ];
      const tb = $('breakdownBody');
      tb.innerHTML = rows.map(([a,b,c]) => `<tr><td>${a}</td><td class="muted">${b}</td><td>${c}</td></tr>`).join('');
      $('tfootInv').textContent = fmt(investment);
      $('tfootRet').textContent = fmt(returns);

      // Auto-resize for parent
      queueMicrotask(resizeForParent);
    }

    function resetDefaults(){
      const defaults = {
        employees:450,
        annualUsers:35,
        assistPerFamily:15000,
        familySupport:25000,
        retainedPhys:5,
        replacePhys:175000,
        retainedNurse:14,
        replaceNurse:30000,
        retainedOther:0,
        replaceOther:10000,
        daysSaved:14,
        vacancyCost:575,
        satisfactionPerFamily:5000,
        arbitragePerFamily:0
      };
      for (const [k,v] of Object.entries(defaults)){ $(k).value = v; }
      calc();
      window.scrollTo({top:0, behavior:'smooth'});
    }

    function resizeForParent(){
      const h = document.documentElement.scrollHeight;
      try { window.parent.postMessage({type:'recn-iframe-height', height: h}, '*'); } catch(e){}
    }

    // Wire up
    const list = [
      'employees','annualUsers','assistPerFamily','familySupport',
      'retainedPhys','replacePhys','retainedNurse','replaceNurse','retainedOther','replaceOther',
      'daysSaved','vacancyCost','satisfactionPerFamily','arbitragePerFamily'
    ];
    list.forEach(id => { $(id).addEventListener('input', calc); $(id).addEventListener('change', calc); });
    $('calcBtn').addEventListener('click', ()=>{ calc(); $('resultsTitle').scrollIntoView({behavior:'smooth', block:'start'}); resizeForParent(); });
    $('resetBtn').addEventListener('click', resetDefaults);
    $('shareBtn').addEventListener('click', shareLink);

    const hadQuery = loadFromQuery();
    calc();
    if(!hadQuery){ resetDefaults(); }
    window.addEventListener('load', resizeForParent);
    window.addEventListener('resize', resizeForParent);
    setTimeout(resizeForParent, 300);
  </script>
</body>
</html>
