<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Reno Concierge ROI Calculator | RECN</title>
  <meta name="description" content="Interactive ROI calculator for Reno housing concierge programs. Estimate costs, savings, and net ROI with adjustable assumptions." />
  <style>
    :root{
      --brand:#20c997; /* mint */
      --brand2:#17a2b8; /* teal */
      --ok:#28a745; /* green */
      --warn:#ffc107; /* amber */
      --bad:#dc3545; /* red */
      --ink:#1b1f23;
      --muted:#6c757d;
      --bg:#f7f9fb;
      --card:#ffffff;
      --line:#e5e7eb;
      --radius:14px;
      --shadow:0 4px 14px rgba(0,0,0,.08);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: ui-sans-serif, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Apple Color Emoji","Segoe UI Emoji";
      color:var(--ink);
      background:var(--bg);
      line-height:1.5;
    }
    a { color: var(--brand2); text-decoration: none; }
    .wrap{
      max-width:1100px;
      margin:0 auto;
      padding: clamp(16px, 2vw, 28px);
    }
    header.hero{
      background: linear-gradient(135deg, var(--brand) 0%, var(--brand2) 100%);
      color:#fff;
      padding: clamp(20px, 3vw, 32px);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      margin: 18px 0 22px;
    }
    header.hero h1{
      margin:0 0 6px;
      font-size: clamp(22px, 3.2vw, 34px);
      letter-spacing:.2px;
    }
    header.hero p{margin:6px 0 0; opacity:.95}
    .grid{
      display:grid;
      grid-template-columns: 1.2fr .8fr;
      gap: clamp(16px, 2.4vw, 24px);
    }
    @media (max-width: 960px){
      .grid{ grid-template-columns: 1fr; }
    }
    .card{
      background:var(--card);
      border:1px solid var(--line);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
    }
    .card h2, .card h3 { margin-top:0; }
    .card .pad{ padding: clamp(16px, 2.4vw, 24px); }
    fieldset{ border:none; padding:0; margin:0 0 14px; }
    legend{ font-weight:800; margin-bottom:10px; }
    .row{
      display:grid;
      grid-template-columns: 1fr 180px;
      align-items:center;
      gap: 12px;
      margin: 10px 0;
    }
    @media (max-width: 720px){
      .row{ grid-template-columns: 1fr; }
      .row label{ margin-bottom: -4px; }
    }
    label{ font-weight:600; }
    .sublabel{ display:block; color:var(--muted); font-weight:500; font-size: 12px; }
    input[type=number]{
      width:100%; padding:12px 12px;
      border:1px solid var(--line);
      border-radius:10px; background:#fff;
      font-size: 16px;
    }
    .hint{ color:var(--muted); font-size:12px; margin-top: -6px; }
    .actions{ display:flex; gap:10px; flex-wrap: wrap; margin-top: 8px; }
    .btn{
      display:inline-flex; align-items:center; justify-content:center;
      gap:8px;
      border:1px solid transparent; background:var(--brand);
      color:#fff; font-weight:800; padding:12px 16px;
      border-radius:10px; cursor:pointer;
    }
    .btn.secondary{ background:#fff; color:var(--brand2); border-color: var(--brand2); }
    .btn.light{ background:#fff; color:var(--ink); border-color: var(--line); }
    .btn:active{ transform: translateY(1px); }
    .results{
      display:grid; gap:12px;
      grid-template-columns: repeat(4, 1fr);
    }
    @media (max-width: 960px){
      .results{ grid-template-columns: repeat(2, 1fr); }
    }
    @media (max-width: 520px){
      .results{ grid-template-columns: 1fr; }
    }
    .stat{
      border:1px solid var(--line);
      border-radius:12px; padding:14px;
      background: #fff;
    }
    .stat h4{ margin:0; font-size:12px; color:var(--muted); letter-spacing:.4px; text-transform: uppercase;}
    .stat .val{ font-size: clamp(20px, 2.5vw, 26px); margin-top: 4px; font-weight:900;}
    .stat.pos .val{ color: var(--ok); }
    .stat.neg .val{ color: var(--bad); }
    table{ width:100%; border-collapse: collapse; }
    th, td{ border-top:1px solid var(--line); padding:10px; text-align:left; }
    th{ background:#fafafa; font-size:13px; }
    tfoot td{ font-weight:800; border-top:2px solid var(--ink); }
    .muted{ color: var(--muted); }
    details{
      border:1px solid var(--line);
      border-radius: 10px;
      padding: 10px 12px;
      background:#fff;
    }
    summary{ font-weight:800; cursor:pointer; }
    footer.note{
      color:var(--muted);
      font-size:12px;
      margin: 14px 0 40px;
      text-align:center;
    }
    .anchor{ position:relative; inset-block-start:-80px; display:block; height:0; visibility:hidden; }
  </style>
</head>
<body>
  <!-- Support the in-page anchors the blog links might target -->
  <span id="concierge-calculator" class="anchor"></span>
  <span id="reno-roi" class="anchor"></span>
  <span id="roi-calculator" class="anchor"></span>

  <div class="wrap">
    <header class="hero" role="banner">
      <h1>üèîÔ∏è Reno Concierge ROI Calculator</h1>
      <p>Estimate the annual <strong>investment, savings, and net ROI</strong> for a Reno housing concierge program. Adjust the assumptions to match your company.</p>
    </header>

    <div class="grid" role="main">
      <section class="card" aria-labelledby="inputs-title">
        <div class="pad">
          <h2 id="inputs-title">Inputs</h2>

          <fieldset>
            <legend>Company &amp; Usage</legend>
            <div class="row">
              <label for="employees">Company size <span class="sublabel">(employees)</span></label>
              <input type="number" id="employees" min="1" step="1" value="150" />
            </div>
            <div class="row">
              <label for="annualUsers">Expected concierge users per year <span class="sublabel">(people)</span></label>
              <input type="number" id="annualUsers" min="1" step="1" value="25" />
            </div>
          </fieldset>

          <fieldset>
            <legend>Program Costs</legend>
            <div class="row">
              <label for="assistPerUser">Housing assistance per user <span class="sublabel">($/user)</span></label>
              <input type="number" id="assistPerUser" min="0" step="100" value="15000" />
            </div>
            <div class="row">
              <label for="adminCost">Program administration <span class="sublabel">($/year)</span></label>
              <input type="number" id="adminCost" min="0" step="500" value="15000" />
            </div>
          </fieldset>

          <fieldset>
            <legend>Benefits &amp; Assumptions</legend>
            <details>
              <summary>Show advanced assumptions</summary>
              <div class="row" style="margin-top:10px;">
                <label for="avgSalary">Avg salary of participating employees <span class="sublabel">($)</span></label>
                <input type="number" id="avgSalary" min="0" step="1000" value="120000" />
              </div>
              <div class="row">
                <label for="replacePct">Replacement cost of turnover <span class="sublabel">(% of salary)</span></label>
                <input type="number" id="replacePct" min="0" step="1" value="20" />
              </div>
              <div class="row">
                <label for="retentionLift">Retention lift among users <span class="sublabel">(% points)</span></label>
                <input type="number" id="retentionLift" min="0" step="1" value="12" />
              </div>
              <hr style="border:none;border-top:1px solid var(--line); margin:10px 0;">
              <div class="row">
                <label for="daysSaved">Recruiting acceleration <span class="sublabel">(days saved per role)</span></label>
                <input type="number" id="daysSaved" min="0" step="1" value="14" />
              </div>
              <div class="row">
                <label for="vacancyCost">Cost of vacancy per day <span class="sublabel">($/role/day)</span></label>
                <input type="number" id="vacancyCost" min="0" step="50" value="500" />
              </div>
              <hr style="border:none;border-top:1px solid var(--line); margin:10px 0;">
              <div class="row">
                <label for="arbitragePerUser">California salary arbitrage <span class="sublabel">($/user/year)</span></label>
                <input type="number" id="arbitragePerUser" min="0" step="1000" value="30000" />
              </div>
              <div class="row">
                <label for="satisfactionPerUser">Satisfaction / productivity value <span class="sublabel">($/user/year)</span></label>
                <input type="number" id="satisfactionPerUser" min="0" step="500" value="5000" />
              </div>
            </details>
          </fieldset>

          <div class="actions">
            <button class="btn" id="calcBtn">üí∞ Calculate ROI</button>
            <button class="btn secondary" id="resetBtn" type="button">‚Ü∫ Reset to defaults</button>
            <button class="btn light" id="shareBtn" type="button" title="Copy a link with your current inputs">üîó Copy shareable link</button>
          </div>
          <p class="hint">Tip: values update live as you type ‚Äî hit ‚ÄúCalculate ROI‚Äù to jump to the results.</p>
        </div>
      </section>

      <aside class="card" aria-labelledby="quickRef">
        <div class="pad">
          <h3 id="quickRef">Default scenario (from the blog)</h3>
          <ul class="muted" style="margin-top:6px">
            <li>Company: 150 employees</li>
            <li>Concierge users: 25 per year</li>
            <li>Housing assistance: $15,000 per user</li>
            <li>Program admin: $15,000 per year</li>
          </ul>
          <hr style="border:none;border-top:1px solid var(--line); margin:14px 0;">
          <p class="muted" style="margin-top:0">Advanced assumptions approximate blog line items:
            retention lift 12%, recruiting saves 14 days, $500/day vacancy, $30k salary arbitrage per user, and $5k satisfaction value per user. Adjust as needed.</p>
          <div style="background:#fff; border:1px dashed var(--line); padding:10px; border-radius:10px">
            <small class="muted">RECN program cost is modeled as <strong>$0</strong> direct fee; employers can optionally fund housing assistance.</small>
          </div>
        </div>
      </aside>
    </div>

    <section class="card" style="margin-top:18px" aria-labelledby="resultsTitle">
      <div class="pad">
        <h2 id="resultsTitle">Results</h2>

        <div class="results" id="statGrid" aria-live="polite">
          <div class="stat" id="invStat">
            <h4>Total Investment</h4>
            <div class="val" id="totalInvestment">$0</div>
            <div class="muted" id="invNote">Admin + housing assistance</div>
          </div>
          <div class="stat" id="retStat">
            <h4>Total Returns</h4>
            <div class="val" id="totalReturns">$0</div>
            <div class="muted" id="retNote">Retention + recruiting + arbitrage + satisfaction</div>
          </div>
          <div class="stat" id="gainStat">
            <h4>Net Gain</h4>
            <div class="val" id="netGain">$0</div>
            <div class="muted">Returns ‚àí Investment</div>
          </div>
          <div class="stat" id="roiStat">
            <h4>ROI</h4>
            <div class="val" id="roiPct">0%</div>
            <div class="muted">Net Gain √∑ Investment</div>
          </div>
        </div>

        <h3 style="margin-top:18px">Breakdown</h3>
        <div class="tableWrap" style="overflow:auto">
          <table aria-describedby="resultsTitle">
            <thead>
              <tr>
                <th>Category</th>
                <th>Formula</th>
                <th>Amount</th>
              </tr>
            </thead>
            <tbody id="breakdownBody">
              <!-- populated by JS -->
            </tbody>
            <tfoot>
              <tr>
                <td>Total Investment</td>
                <td class="muted">Admin + Assistance √ó Users</td>
                <td id="tfootInv">$0</td>
              </tr>
              <tr>
                <td>Total Returns</td>
                <td class="muted">Retention + Recruiting + Arbitrage + Satisfaction</td>
                <td id="tfootRet">$0</td>
              </tr>
            </tfoot>
          </table>
        </div>

        <footer class="note">
          This tool provides directional estimates for planning. It is not tax, legal, or financial advice.
        </footer>
      </div>
    </section>
  </div>

  <script>
    // Helpers
    const $ = (id) => document.getElementById(id);
    const fmt = (n) => n.toLocaleString(undefined, {style:'currency', currency:'USD', maximumFractionDigits:0});
    const clamp = (x, min, max) => Math.min(Math.max(x, min), max);

    const inputs = [
      'employees','annualUsers','assistPerUser','adminCost',
      'avgSalary','replacePct','retentionLift','daysSaved','vacancyCost','arbitragePerUser','satisfactionPerUser'
    ];

    function readInput(id){
      const el = $(id);
      const v = parseFloat(el.value.replace(/,/g,''));
      return isFinite(v) ? v : 0;
    }

    function writeQueryFromInputs(){
      const params = new URLSearchParams();
      inputs.forEach(id => params.set(id, readInput(id)));
      const url = location.origin + location.pathname + '?' + params.toString();
      navigator.clipboard.writeText(url).then(() => {
        alert('Sharable link copied to clipboard.');
      }).catch(() => {
        prompt('Copy this link:', url);
      });
    }

    function loadInputsFromQuery(){
      const q = new URLSearchParams(location.search);
      let found = false;
      inputs.forEach(id => {
        if(q.has(id)){
          $(id).value = q.get(id);
          found = true;
        }
      });
      return found;
    }

    function calc(){
      const employees = readInput('employees');
      const users = Math.min(readInput('annualUsers'), employees);

      const assistPerUser = readInput('assistPerUser');
      const adminCost = readInput('adminCost');

      // Advanced
      const avgSalary = readInput('avgSalary');
      const replacePct = readInput('replacePct') / 100; // % salary
      const retentionLift = readInput('retentionLift') / 100; // % points among users

      const daysSaved = readInput('daysSaved');
      const vacancyCost = readInput('vacancyCost');

      const arbitragePerUser = readInput('arbitragePerUser');
      const satisfactionPerUser = readInput('satisfactionPerUser');

      // Investment
      const invest = adminCost + (assistPerUser * users);

      // Returns
      const retainedEmployees = users * retentionLift;
      const replacePerEmployee = avgSalary * replacePct;
      const retentionValue = retainedEmployees * replacePerEmployee;

      const recruitingValue = users * daysSaved * vacancyCost;

      const arbitrageValue = users * arbitragePerUser;

      const satisfactionValue = users * satisfactionPerUser;

      const returns = retentionValue + recruitingValue + arbitrageValue + satisfactionValue;

      const netGain = returns - invest;
      const roi = invest > 0 ? (netGain / invest) : 0;

      // Update stats
      $('totalInvestment').textContent = fmt(invest);
      $('totalReturns').textContent = fmt(returns);
      $('netGain').textContent = fmt(netGain);
      $('roiPct').textContent = (roi*100).toFixed(0) + '%';

      $('invStat').classList.toggle('neg', false);
      $('gainStat').classList.toggle('neg', netGain < 0);
      $('gainStat').classList.toggle('pos', netGain >= 0);

      // Breakdown rows
      const rows = [
        ['Admin', 'Admin', invest ? fmt(adminCost) : fmt(0)],
        ['Housing assistance', 'Assistance √ó Users', fmt(assistPerUser * users)],
        ['Retention', 'Users √ó Retention Lift √ó (Salary √ó Replacement %)', fmt(retentionValue)],
        ['Recruiting acceleration', 'Users √ó Days Saved √ó Vacancy $/day', fmt(recruitingValue)],
        ['Salary arbitrage', 'Users √ó $/user/year', fmt(arbitrageValue)],
        ['Satisfaction / productivity', 'Users √ó $/user/year', fmt(satisfactionValue)],
      ];
      const tb = $('breakdownBody');
      tb.innerHTML = rows.map(([a,b,c]) =>
        `<tr><td>${a}</td><td class="muted">${b}</td><td>${c}</td></tr>`
      ).join('');

      $('tfootInv').textContent = fmt(invest);
      $('tfootRet').textContent = fmt(returns);

      // postMessage height for parent if it listens
      queueMicrotask(resizeForParent);
    }

    function resetDefaults(){
      const defaults = {
        employees:150,
        annualUsers:25,
        assistPerUser:15000,
        adminCost:15000,
        avgSalary:120000,
        replacePct:20,
        retentionLift:12,
        daysSaved:14,
        vacancyCost:500,
        arbitragePerUser:30000,
        satisfactionPerUser:5000
      };
      for (const [k,v] of Object.entries(defaults)){
        $(k).value = v;
      }
      calc();
      window.scrollTo({top:0, behavior:'smooth'});
    }

    function resizeForParent(){
      const h = document.documentElement.scrollHeight;
      try {
        window.parent.postMessage({type:'recn-iframe-height', height: h}, '*');
      } catch(e){}
    }

    // Live update
    inputs.forEach(id => {
      $(id).addEventListener('input', calc);
      $(id).addEventListener('change', calc);
    });

    $('calcBtn').addEventListener('click', ()=>{
      calc();
      document.getElementById('resultsTitle').scrollIntoView({behavior:'smooth', block:'start'});
      resizeForParent();
    });
    $('resetBtn').addEventListener('click', resetDefaults);
    $('shareBtn').addEventListener('click', writeQueryFromInputs);

    // Init
    const hadQuery = loadInputsFromQuery();
    calc();
    if(!hadQuery){ resetDefaults(); }
    // resize on load/resize
    window.addEventListener('load', resizeForParent);
    window.addEventListener('resize', resizeForParent);
    setTimeout(resizeForParent, 300);
  </script>
</body>
</html>
