<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Nevada Transaction Fee Savings Calculator | RECN</title>
  <meta name="description" content="Calculate estimated savings from negotiated real estate compensation vs. traditional fee structures in Nevada. All compensation is negotiable." />
  <style>
    :root{
      --brand:#28a745;
      --brand2:#20c997;
      --ink:#1f2937;
      --muted:#6b7280;
      --bg:#f7f9fb;
      --line:#e5e7eb;
      --card:#ffffff;
      --radius:14px;
      --shadow:0 6px 20px rgba(0,0,0,.06);
    }
    *{box-sizing:border-box}
    body{margin:0;font-family: ui-sans-serif, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial; color:var(--ink); background:var(--bg); line-height:1.5;}
    .wrap{max-width:1100px;margin:0 auto;padding:clamp(16px,2vw,28px);}
    header.hero{background: linear-gradient(135deg, var(--brand) 0%, var(--brand2) 100%); color:#fff; padding: clamp(22px,3vw,34px); border-radius:var(--radius); box-shadow:var(--shadow); margin: 18px 0 22px;}
    header.hero h1{margin:0 0 6px; font-size: clamp(22px, 3.2vw, 34px);}
    header.hero p{margin:6px 0 0; opacity:.95}
    .card{background:var(--card); border:1px solid var(--line); border-radius:var(--radius); box-shadow:var(--shadow); margin-top:14px;}
    .pad{padding: clamp(16px, 2.4vw, 24px);}
    .row{display:grid; grid-template-columns: 1.2fr 1fr 1fr; gap:10px; align-items:center; margin: 10px 0;}
    .row > label{font-weight:700;}
    @media (max-width: 880px){ .row{ grid-template-columns: 1fr; } }
    input[type=number], select{width:100%; padding:10px 12px; border:1px solid var(--line); border-radius:10px; background:#fff; font-size:15px;}
    .muted{color:var(--muted);}
    .actions{display:flex;gap:10px;flex-wrap:wrap;margin-top:8px;}
    .btn{display:inline-flex; align-items:center; gap:8px; background:var(--brand); color:#fff; border:1px solid transparent; padding:12px 16px; border-radius:10px; font-weight:800; cursor:pointer;}
    .btn.light{background:#fff; color:var(--ink); border-color:var(--line);}
    .statGrid{display:grid; grid-template-columns: repeat(4,1fr); gap:12px; margin-top:8px;}
    @media (max-width: 980px){ .statGrid{grid-template-columns: repeat(2,1fr);}}
    @media (max-width: 520px){ .statGrid{grid-template-columns: 1fr;}}
    .stat{border:1px solid var(--line); border-radius:12px; padding:14px; background:#fff;}
    .stat h4{margin:0; font-size:12px; color:var(--muted); letter-spacing:.4px; text-transform:uppercase;}
    .stat .val{font-size: clamp(20px, 2.6vw, 28px); margin-top:4px; font-weight:900;}
    .pos{color:#157347;}
    .neg{color:#b02a37;}
    .tableWrap{overflow:auto; border:1px solid var(--line); border-radius:12px;}
    table{width:100%; border-collapse:collapse;}
    th,td{border-top:1px solid var(--line); padding:10px; text-align:left;}
    th{background:#fafafa; font-size:13px;}
    .inline{font-size:12px; color:var(--muted); margin-top:6px;}
    .anchor{position:relative; inset-block-start:-80px; height:0; visibility:hidden; display:block;}
    .badge{display:inline-block; padding:5px 10px; border-radius:999px; background:#e9f8ee; color:#116534; font-weight:800; font-size:12px; border:1px solid #ccefd7;}
  </style>
</head>
<body>
  <span id="savings-calculator" class="anchor"></span>
  <div class="wrap">
    <header class="hero">
      <h1>ðŸ’° Nevada Transaction Fee Savings Calculator</h1>
      <p>Estimate potential savings from negotiated compensation vs. a traditional percentage. <strong>All compensation is negotiable between you and your real estate professionals.</strong></p>
    </header>

    <section class="card" aria-labelledby="inputs">
      <div class="pad">
        <h2 id="inputs">Inputs</h2>

        <div class="row">
          <label>Transaction Side</label>
          <div><select id="side">
            <option value="sell">Sell</option>
            <option value="buy">Buy</option>
          </select></div>
          <div><span class="badge">Compliant &amp; adjustable</span></div>
        </div>

        <div class="row">
          <label for="price">Property Price</label>
          <input id="price" type="number" step="1000" min="0" value="1000000" />
          <div class="inline">Sale price (sell) or purchase price (buy)</div>
        </div>

        <div class="row">
          <label>Traditional Baseline</label>
          <div><input id="tradPct" type="number" step="0.1" min="0" value="6" /> <div class="inline">Total fee % of price</div></div>
          <div><input id="tradAdmin" type="number" step="50" min="0" value="500" /> <div class="inline">Admin/processing ($)</div></div>
        </div>

        <div class="row">
          <label>Concierge Program</label>
          <div>
            <select id="model">
              <option value="percent">Percent of price</option>
              <option value="fixed">Fixed fee</option>
              <option value="hybrid">Hybrid (base + %)</option>
            </select>
          </div>
          <div id="percentBox"><input id="concPct" type="number" step="0.1" min="0" value="3.5" /> <div class="inline">Concierge %</div></div>
          <div id="fixedBox" style="display:none"><input id="concFixed" type="number" step="500" min="0" value="25000" /> <div class="inline">Fixed fee ($)</div></div>
        </div>

        <div class="row" id="hybridRow" style="display:none">
          <label>Hybrid Details</label>
          <div><input id="hybridBase" type="number" step="500" min="0" value="10000" /> <div class="inline">Base fee ($)</div></div>
          <div><input id="hybridPct" type="number" step="0.1" min="0" value="1.5" /> <div class="inline">% of price</div></div>
        </div>

        <div class="row">
          <label for="concAdmin">Concierge Admin</label>
          <input id="concAdmin" type="number" step="50" min="0" value="0" />
          <div class="inline">Additional admin/processing ($)</div>
        </div>

        <div class="actions">
          <button class="btn" id="copyLink">ðŸ”— Copy sharable link</button>
          <button class="btn light" id="resetBtn">â†º Reset demo</button>
        </div>

        <p class="inline">Tier suggestion: up to $750k â†’ ~$15k; $750kâ€“$1.5M â†’ ~$25k; $1.5M+ â†’ ~$45k (editable as fixed fee). This is illustrative only.</p>
      </div>
    </section>

    <section class="card" aria-labelledby="results">
      <div class="pad">
        <h2 id="results">Results</h2>
        <div class="statGrid">
          <div class="stat">
            <h4>Traditional Cost</h4>
            <div class="val" id="tradCost">$0</div>
          </div>
          <div class="stat">
            <h4>Concierge Cost</h4>
            <div class="val" id="concCost">$0</div>
          </div>
          <div class="stat">
            <h4>Dollar Savings</h4>
            <div class="val pos" id="saveAmt">$0</div>
          </div>
          <div class="stat">
            <h4>Percent Savings</h4>
            <div class="val pos" id="savePct">0%</div>
          </div>
        </div>

        <h3 style="margin-top:18px">Breakdown</h3>
        <div class="tableWrap">
          <table>
            <thead>
              <tr>
                <th>Component</th><th>Formula</th><th>Traditional</th><th>Concierge</th>
              </tr>
            </thead>
            <tbody id="breakdown">
            </tbody>
          </table>
        </div>

        <p class="inline">Disclaimer: This tool provides illustrative estimates only. Actual compensation and services are determined solely by agreement between the parties.</p>
      </div>
    </section>
  </div>

  <script>
    const $ = (id) => document.getElementById(id);
    const fmt$ = (n) => n.toLocaleString(undefined,{style:'currency',currency:'USD',maximumFractionDigits:0});
    function calcCosts(){
      const price = +$('price').value || 0;
      const tradPct = (+$('tradPct').value || 0) / 100;
      const tradAdmin = +$('tradAdmin').value || 0;
      const model = $('model').value;
      const concAdmin = +$('concAdmin').value || 0;
      let conc = 0;
      if(model === 'percent'){
        conc = price * ((+$('concPct').value || 0)/100);
      }else if(model === 'fixed'){
        conc = +$('concFixed').value || 0;
      }else{
        conc = (+$('hybridBase').value || 0) + price * ((+$('hybridPct').value || 0)/100);
      }
      const trad = price * tradPct;
      return {
        price, tradCost: trad + tradAdmin, concCost: conc + concAdmin,
        parts: {
          tradFee: trad, tradAdmin,
          concFee: conc, concAdmin
        }
      };
    }
    function render(){
      const m = calcCosts();
      const savings = Math.max(0, m.tradCost - m.concCost);
      const pct = m.tradCost>0 ? (savings/m.tradCost)*100 : 0;
      $('tradCost').textContent = fmt$(m.tradCost);
      $('concCost').textContent = fmt$(m.concCost);
      $('saveAmt').textContent = fmt$(savings);
      $('savePct').textContent = pct.toFixed(1)+'%';
      $('breakdown').innerHTML = `
        <tr><td>Fee on Price</td><td>price Ã— %</td><td>${fmt$(m.parts.tradFee)}</td><td>${fmt$(m.parts.concFee)}</td></tr>
        <tr><td>Admin / Processing</td><td>flat</td><td>${fmt$(m.parts.tradAdmin)}</td><td>${fmt$(m.parts.concAdmin)}</td></tr>
        <tr><td><strong>Total</strong></td><td>sum</td><td><strong>${fmt$(m.tradCost)}</strong></td><td><strong>${fmt$(m.concCost)}</strong></td></tr>
      `;
      // Resize for parent
      try{ window.parent.postMessage({type:'recn-iframe-height', height: document.documentElement.scrollHeight}, '*'); }catch(e){}
    }
    function onModelChange(){
      const model = $('model').value;
      $('percentBox').style.display = model==='percent' ? '' : 'none';
      $('fixedBox').style.display   = model==='fixed'   ? '' : 'none';
      $('hybridRow').style.display  = model==='hybrid'  ? '' : 'none';
      render();
    }
    function resetDemo(){
      $('side').value = 'sell';
      $('price').value = 1000000;
      $('tradPct').value = 6;
      $('tradAdmin').value = 500;
      $('model').value = 'percent';
      $('concPct').value = 3.5;
      $('concFixed').value = 25000;
      $('hybridBase').value = 10000;
      $('hybridPct').value = 1.5;
      $('concAdmin').value = 0;
      onModelChange();
    }
    function encodeState(){
      const state = {
        side:$('side').value, price:$('price').value,
        tradPct:$('tradPct').value, tradAdmin:$('tradAdmin').value,
        model:$('model').value, concPct:$('concPct').value, concFixed:$('concFixed').value,
        hybridBase:$('hybridBase').value, hybridPct:$('hybridPct').value, concAdmin:$('concAdmin').value
      };
      return btoa(unescape(encodeURIComponent(JSON.stringify(state))));
    }
    function decodeState(s){
      try{ return JSON.parse(decodeURIComponent(escape(atob(s)))); }catch(e){ return null; }
    }
    function loadFromQuery(){
      const q = new URLSearchParams(location.search);
      const data = q.get('data'); if(!data) return false;
      const st = decodeState(data); if(!st) return false;
      $('side').value = st.side||'sell';
      $('price').value = st.price||1000000;
      $('tradPct').value = st.tradPct||6;
      $('tradAdmin').value = st.tradAdmin||500;
      $('model').value = st.model||'percent';
      $('concPct').value = st.concPct||3.5;
      $('concFixed').value = st.concFixed||25000;
      $('hybridBase').value = st.hybridBase||10000;
      $('hybridPct').value = st.hybridPct||1.5;
      $('concAdmin').value = st.concAdmin||0;
      onModelChange();
      return true;
    }
    // Wire up
    ['side','price','tradPct','tradAdmin','concAdmin','concPct','concFixed','hybridBase','hybridPct'].forEach(id=> $(id).addEventListener('input', render));
    $('model').addEventListener('change', onModelChange);
    $('resetBtn').addEventListener('click', resetDemo);
    $('copyLink').addEventListener('click', ()=>{
      const url = location.origin + location.pathname + '?data=' + encodeState();
      navigator.clipboard.writeText(url).then(()=>alert('Sharable link copied!')).catch(()=>{ prompt('Copy this link:', url); });
    });
    // boot
    const had = loadFromQuery();
    if(!had){ resetDemo(); } else { render(); }
    window.addEventListener('load', render);
    window.addEventListener('resize', render);
  </script>
</body>
</html>
